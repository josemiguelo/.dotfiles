export ZSH_CACHE_DIR="${XDG_CACHE_HOME:-$HOME/.cache}/ohmyzsh"

# completion
fpath=($ZDOTDIR/completions $fpath)
[[ -d "$ZSH_CACHE_DIR/completions" ]] || mkdir -p $ZSH_CACHE_DIR/completions
autoload -Uz compinit
compinit



export HISTFILE="$HOME/.local/state/zsh_history"
if [[ ! -f "$HISTFILE" ]]; then
    mkdir -p "$(dirname "$HISTFILE")"
    touch "$HISTFILE"
fi

export HISTSIZE=10000
export SAVEHIST=10000

# zstyles
[[ -r $ZDOTDIR/.zstyles ]] && . $ZDOTDIR/.zstyles

# use antidote for plugin management
export antidote_path=${XDG_DATA_HOME:=~/.local/share}/mattmc3/antidote
[[ -d $antidote_path ]] || git clone --depth 1 --quiet https://github.com/mattmc3/antidote $antidote_path

source $antidote_path/antidote.zsh
antidote load

eval "$(zoxide init zsh)"

eval "$(starship init zsh)"
