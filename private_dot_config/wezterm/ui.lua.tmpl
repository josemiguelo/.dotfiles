local private_exists, private_config = pcall(require, "private") -- Load private config if it exists
local wezterm = require("wezterm") -- Load the wezterm API

local M = {}

M.setup = function(config)

  --colorscheme
	config.color_scheme = "Tokyo Night"
	if private_exists and private_config ~= nil and private_config.color_scheme then
		config.color_scheme = private_config.color_scheme
	end

  -- font
	config.font_size = 12.0
  {{ if (eq .chezmoi.os "darwin") }}
  config.font = wezterm.font("Fira Code")
  {{ else if (eq .chezmoi.os "linux") }}
  config.font = wezterm.font("FiraCode Nerd Font Mono")
  {{ end }}

  -- scrollback
	config.scrollback_lines = 10000

  -- borders
	config.underline_thickness = 2
	config.colors = { split = "#E16765" }

  {{ if (eq .chezmoi.os "darwin") }}
	-- Slightly transparent and blurred background
	config.window_background_opacity = 0.9
	config.macos_window_background_blur = 30
  {{ else if (eq .chezmoi.os "linux") }}
	config.window_background_opacity = 0.9
  config.kde_window_background_blur = true
  {{ end }}
end

return M
